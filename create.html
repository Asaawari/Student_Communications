<!DOCTYPE html>
<html>  
<head>
    <title>Create Groups</title>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
    </style>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.7.4/firebasejs"></script>
   
</head>
<body>
    <h1>Teacher Portal</h1>
    <div>
        <h2>Create a New Group:</h2>
        <select id="groupName" placeholder="Group Name">
            <optgroup>Clubs
                <option>Coding</option>
                <option>Nature</option>
                <option>Archery</option>
                <option>Choir</option>
                <option>Art</option>
                <option>Science</option>
                <option>Public Speaking</option>
                <option>Quiz</option>
            </optgroup>
            <optgroup>Houses
                <option>Red</option>
                <option>Yellow</option>
                <option>Blue</option>
                <option>Green</option>
            </optgroup>
            <optgroup>Primary
                <option>Nursery A</option>
                <option>Nursery B</option>
                <option>Nursery C</option>
                <option>Nursery D</option>

                <option>LKG A</option>
                <option>LKG B</option>
                <option>LKG C</option>
                <option>LKG D</option>
                
                <option>UKG A</option>
                <option>UKG B</option>
                <option>UKG C</option>
                <option>UKG D</option>

                <option>Class 1A</option>
                <option>Class 1B</option>
                <option>Class 1C</option>
                <option>Class 1D</option>
                
                <option>Class 2A</option>
                <option>Class 2B </option>
                <option>Class 2C</option>
                <option>Class 2D</option>
            </optgroup>
            <optgroup>Junior
                <option>Class 3A</option>
                <option>Class 3B</option>
                <option>Class 3C</option>
                <option>Class 3D</option>

                <option>Class 4A</option>
                <option>Class 4B</option>
                <option>Class 4C</option>
                <option>Class 4D</option>
                
                <option>Class 5A</option>
                <option>Class 5B</option>
                <option>Class 5C</option>
                <option>Class 5D</option>                
            </optgroup>
            <optgroup>Middle
                <option>Class 6A</option>
                <option>Class 6B</option>
                <option>Class 6C</option>
                <option>Class 6D</option>
                
                <option>Class 7A</option>
                <option>Class 7B</option>
                <option>Class 7C</option>
                <option>Class 7D</option>

                <option>Class 8A</option>
                <option>Class 8B</option>
                <option>Class 8C</option>
                <option>Class 8D</option>
            </optgroup>
            <optgroup>Senior
                <option>Class 9A</option>
                <option>Class 9B</option>
                <option>Class 9C</option>
                <option>Class 9D</option>

                <option>Class 10A</option>
                <option>Class 10B</option>
                <option>Class 10C</option>
                <option>Class 10D</option>

                <option>Class 11A</option>
                <option>Class 11B</option>
                <option>Class 11C</option>
                <option>Class 11D</option>

                <option>Class 12A</option>
                <option>Class 12B</option>
                <option>Class 12C</option>
                <option>Class 12D</option>
            </optgroup>
        </select>
        <br><br>
        <input type="text" id="groupUrl" placeholder="URL of WhatsApp Group">
        <br><br>
          
        <button onclick=pushToFirebase() style="background-color: #ece3f4;
        color: #000000;
        width: 150px;
        height: 50px;
        font-size: 15px;">Create Group</button>
        
    </div>
    </ul>
    <br>
    <br>

    <button onclick="window.location.href='index.html'" style="background-color: #ece3f4;
    color: #000000;
    width: 120px;
    height: 50px;
    font-size: 15px;
    margin-top: 200px;">Back to Home</button>
  <script src="https://www.gstatic.com/firebasejs/5.5.8/firebase.js"></script>
        <script>
        const firebaseConfig = {
            apiKey: "AIzaSyA7dfr4NTylLjXTI9mKsD1puiS1zQjTQ7I",
            authDomain: "la-creo.firebaseapp.com",
            databaseURL: "https://la-creo-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "la-creo",
            storageBucket: "la-creo.appspot.com",
            messagingSenderId: "936519683873",
            appId: "1:936519683873:web:cf04c89171d30ade8a3860"
        };
        
        firebase.initializeApp(firebaseConfig);
        </script>
        <script>
        const firestore = firebase.firestore();  
        const settings = {/* your settings... */ timestampsInSnapshots: true};
        firestore.settings(settings);
 

        async function pushToFirebase() {
            const groupUrl = document.getElementById("groupUrl").value;
            const groupName = document.getElementById("groupName").value;

            console.log(groupName,groupUrl);

            const docData = {
                name: groupName,
                url: groupUrl
            };
            try{

              const docRef = await firestore.collection('groups').add(docData);
              console.log("Document written with ID: ", docRef.id);
              alert("Group added successfully!");
            }catch(error){
              console.error("Error adding document: ", error);
              alert("An error occurred while adding the group. Please try again later.");
            }

        }
        </script>
</body>
</html>